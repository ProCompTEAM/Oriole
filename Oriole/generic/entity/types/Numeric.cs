/*
  ╔══╗╔═══╗╔══╗╔══╗╔╗──╔═══╗────╔═══╗╔═══╗╔══╗─╔══╗╔═══╗╔══╗╔════╗
  ║╔╗║║╔═╗║╚╗╔╝║╔╗║║║──║╔══╝─╔╗─║╔═╗║║╔═╗║║╔╗║─╚╗╔╝║╔══╝║╔═╝╚═╗╔═╝
  ║║║║║╚═╝║─║║─║║║║║║──║╚══╗╔╝╚╗║╚═╝║║╚═╝║║║║║──║║─║╚══╗║║────║║
  ║║║║║╔╗╔╝─║║─║║║║║║──║╔══╝╚╗╔╝║╔══╝║╔╗╔╝║║║║╔╗║║─║╔══╝║║────║║
  ║╚╝║║║║║─╔╝╚╗║╚╝║║╚═╗║╚══╗─╚╝─║║───║║║║─║╚╝║║╚╝╚╗║╚══╗║╚═╗──║║
  ╚══╝╚╝╚╝─╚══╝╚══╝╚══╝╚═══╝────╚╝───╚╝╚╝─╚══╝╚═══╝╚═══╝╚══╝──╚╝

 */
using System;

namespace Oriole.generic.entity.types
{
	public class Numeric : BaseType
	{
		public static new string Signature
		{
			get { return "num"; }
		}
		
		public override string Instance
		{
			get { return Numeric.Signature; }
		}
		
		public Numeric(string value) : base(value)
		{
			value = Variable.Clear(value);
			
			try
			{
				Body = Convert.ToInt32(value);
			}
			catch { IntBadValue(this); }
		}
		
		public int ToInt32()
		{
			return (int) Body;
		}
		
		public double ToDouble()
		{
			return (double) Body;
		}
		
		public new Type GetType()
		{
			return ToInt32().GetType();
		}
	}
}

/*
  ╔══╗╔═══╗╔══╗╔══╗╔╗──╔═══╗────╔═══╗╔═══╗╔══╗─╔══╗╔═══╗╔══╗╔════╗
  ║╔╗║║╔═╗║╚╗╔╝║╔╗║║║──║╔══╝─╔╗─║╔═╗║║╔═╗║║╔╗║─╚╗╔╝║╔══╝║╔═╝╚═╗╔═╝
  ║║║║║╚═╝║─║║─║║║║║║──║╚══╗╔╝╚╗║╚═╝║║╚═╝║║║║║──║║─║╚══╗║║────║║
  ║║║║║╔╗╔╝─║║─║║║║║║──║╔══╝╚╗╔╝║╔══╝║╔╗╔╝║║║║╔╗║║─║╔══╝║║────║║
  ║╚╝║║║║║─╔╝╚╗║╚╝║║╚═╗║╚══╗─╚╝─║║───║║║║─║╚╝║║╚╝╚╗║╚══╗║╚═╗──║║
  ╚══╝╚╝╚╝─╚══╝╚══╝╚══╝╚═══╝────╚╝───╚╝╚╝─╚══╝╚═══╝╚═══╝╚══╝──╚╝

 */

using System;
using WMPLib;
using System.Media;
using Microsoft.DirectX.AudioVideoPlayback;

namespace Oriole.util
{
	public static class Player
	{
		public static void Play(string soundURL)
		{
			new SoundPlayer().Open(soundURL);
		}
	}
	
	class SoundPlayer : Oriole.task.AsyncTask
	{	
		readonly WindowsMediaPlayer WMP = new WindowsMediaPlayer();
		
		protected override void Run(params object[] args)
		{
			Audio a = new Audio((string) args[0]);
			a.Play();
			//WMP.URL = (string) args[0];
			//WMP.controls.play();
		}
	}
}